!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/animations"),require("@angular/core"),require("@angular/platform-browser"),require("@angular/common"),require("rxjs"),require("@angular/cdk/portal"),require("@angular/cdk/overlay"),require("@angular/cdk/keycodes"),require("@ngx-gallery/core"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ngx-gallery/lightbox",["exports","@angular/animations","@angular/core","@angular/platform-browser","@angular/common","rxjs","@angular/cdk/portal","@angular/cdk/overlay","@angular/cdk/keycodes","@ngx-gallery/core","rxjs/operators"],t):t((e["ngx-gallery"]=e["ngx-gallery"]||{},e["ngx-gallery"].lightbox={}),e.ng.animations,e.ng.core,e.ng.platformBrowser,e.ng.common,e.rxjs,e.ng.cdk.portal,e.ng.cdk.overlay,e.ng.cdk.keycodes,null,e.rxjs.operators)}(this,function(e,t,o,r,n,i,c,a,p,s,l){"use strict";var d={slideLightbox:t.trigger("slideLightbox",[t.state("enter",t.style({transform:"none",opacity:1})),t.state("void",t.style({transform:"translate3d(0, 25%, 0) scale(0.9)",opacity:0})),t.state("exit",t.style({transform:"translate3d(0, 25%, 0)",opacity:0})),t.transition("* => *",t.animate("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},g=function(){function e(e,t){var o=this;this.sanitizer=e,this._locationChange$=i.Subscription.EMPTY,t&&(this._locationChange$=t.subscribe(function(){return o.overlayRef.detach()}))}return e.prototype.onMouseLeave=function(e){"void"===e.toState&&this.overlayRef.dispose()},e.prototype.ngOnDestroy=function(){this._locationChange$.unsubscribe()},e.decorators=[{type:o.Component,args:[{selector:"lightbox",changeDetection:o.ChangeDetectionStrategy.OnPush,animations:[d.slideLightbox],styles:["::ng-deep lightbox{position:relative;display:block;width:1100px;height:800px;max-width:94vw;max-height:90vh}::ng-deep lightbox gallery{overflow:hidden;margin:0;display:block;width:100%;height:100%;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}::ng-deep .g-backdrop{background-color:rgba(0,0,0,.9)}::ng-deep .fullscreen{width:100%}::ng-deep .fullscreen ::ng-deep lightbox{max-width:unset;max-height:unset;position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%}::ng-deep .g-overlay{margin:auto}@media only screen and (max-width:480px){::ng-deep .g-overlay{width:100%}::ng-deep .g-overlay ::ng-deep lightbox{max-width:unset;max-height:unset;position:fixed;top:0;left:0;bottom:0;right:0;height:100%;width:100%}}::ng-deep .cdk-global-overlay-wrapper,::ng-deep .cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}::ng-deep .cdk-overlay-container{position:fixed;z-index:1000}::ng-deep .cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}::ng-deep .cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000}::ng-deep .cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}::ng-deep .cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.48}::ng-deep .cdk-overlay-dark-backdrop{background:rgba(0,0,0,.6)}::ng-deep .cdk-overlay-transparent-backdrop{background:0 0}::ng-deep .cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}::ng-deep .g-btn-close{position:absolute;right:.9em;top:.9em;z-index:60;cursor:pointer;width:20px;height:20px}@media only screen and (max-width:480px){::ng-deep .g-btn-close{right:.7em;top:.7em}}"],template:'\n    <gallery [id]="id" [destroyRef]="false" [skipInitConfig]="true">\n      <i class="g-btn-close" aria-label="Close" (click)="overlayRef.detach()"\n         [innerHTML]="sanitizer.bypassSecurityTrustHtml(closeIcon)"></i>\n    </gallery>\n  '}]}],e.ctorParameters=function(){return[{type:r.DomSanitizer},{type:n.Location,decorators:[{type:o.Optional}]}]},e.propDecorators={slideAnimation:[{type:o.HostBinding,args:["@slideLightbox"]}],onMouseLeave:[{type:o.HostListener,args:["@slideLightbox.done",["$event"]]}]},e}(),h=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},u=new o.InjectionToken("lightboxConfig"),y={backdropClass:"g-backdrop",panelClass:"g-overlay",hasBackdrop:!0,keyboardShortcuts:!0,closeIcon:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="512px" height="512px" enable-background="new 0 0 47.971 47.971" version="1.1" viewBox="0 0 47.971 47.971" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">\n\t<path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z" fill="#fff"/>\n</svg>\n'},b=function(){function e(e,t,o){this._gallery=t,this._overlay=o,this.opened=new i.Subject,this.closed=new i.Subject,this._config=h({},y,e)}return e.prototype.setConfig=function(e){this._config=h({},this._config,e)},e.prototype.open=function(e,t,o){var r=this;void 0===e&&(e=0),void 0===t&&(t="lightbox");var n=o?h({},this._config,o):this._config,i={backdropClass:n.backdropClass,panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:this._overlay.scrollStrategies.block()},a=this._gallery.ref(t);a.set(e),this._overlayRef=this._overlay.create(i),this._overlayRef.attachments().subscribe(function(){return r.opened.next(t)}),this._overlayRef.detachments().subscribe(function(){return r.closed.next(t)});var s=new c.ComponentPortal(g),l=this._overlayRef.attach(s);l.instance.id=t,l.instance.overlayRef=this._overlayRef,l.instance.closeIcon=this._config.closeIcon,n.hasBackdrop&&this._overlayRef.backdropClick().subscribe(function(){return r.close()}),n.keyboardShortcuts&&this._overlayRef.keydownEvents().subscribe(function(e){switch(e.keyCode){case p.LEFT_ARROW:a.prev();break;case p.RIGHT_ARROW:a.next();break;case p.ESCAPE:r.close()}})},e.prototype.close=function(){this._overlayRef.hasAttached()&&this._overlayRef.detach()},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[u]}]},{type:s.Gallery},{type:a.Overlay}]},e}(),f=function(){function e(e,t,o){this._lightbox=e,this._el=t,this._renderer=o,this.clickEvent=i.Subscription.EMPTY,this.index=0,this.id="root"}return e.prototype.ngOnInit=function(){var e=this;this._renderer.setStyle(this._el.nativeElement,"cursor","pointer"),this.clickEvent=i.fromEvent(this._el.nativeElement,"click").pipe(l.tap(function(){return e._lightbox.open(e.index,e.id)})).subscribe()},e.prototype.ngOnDestroy=function(){this.clickEvent.unsubscribe()},e.decorators=[{type:o.Directive,args:[{selector:"[lightbox]"}]}],e.ctorParameters=function(){return[{type:b},{type:o.ElementRef},{type:o.Renderer2}]},e.propDecorators={index:[{type:o.Input,args:["lightbox"]}],id:[{type:o.Input,args:["gallery"]}]},e}();function x(e,t,o){return new b(e,t,o)}var v=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:u,useValue:e},{provide:b,useFactory:x,deps:[u,s.Gallery,a.Overlay]}]}},t.decorators=[{type:o.NgModule,args:[{imports:[a.OverlayModule,s.GalleryModule],declarations:[g,f],exports:[f],entryComponents:[g]}]}],t}();e.LightboxComponent=g,e.Lightbox=b,e.lightboxFactory=x,e.LightboxModule=v,e.ɵa=d,e.ɵc=f,e.ɵb=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-gallery-lightbox.umd.min.js.map